@ECHO OFF

set SETTINGS=c:\Users\%USERNAME%\.m2\settings_localgis3.xml
set TIPO_COMPILACION=install



call mvn -s %SETTINGS% -f LOCALGIS-parent/pom.xml %TIPO_COMPILACION% 
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-resources/pom.xml %TIPO_COMPILACION% 
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-Const/pom.xml %TIPO_COMPILACION% 
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-Utils/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-Security/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-Context/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-DataVision/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-ContextUtils/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-Xml2Java/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR


call mvn -s %SETTINGS% -f LOCALGIS-model/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-agil/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-sql/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR


call mvn -s %SETTINGS% -f LOCALGIS-deegree/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

REM call mvn -s %SETTINGS% -f LOCALGIS-Worbench-Parent/pom.xml %TIPO_COMPILACION%
REM IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-workbench/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-Minimal-Workbench/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-model-admcar/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

call mvn -s %SETTINGS% -f LOCALGIS-UTILS-Document/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-MODEL-Alfresco/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR


call mvn -s %SETTINGS% -f LOCALGIS-MODEL-eiel/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-MODEL-inventario/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-piroPlugins/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-defaultPlugins/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-protocol/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

call mvn -s %SETTINGS% -f LOCALGIS-UTILS-Alfresco/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-UTILS-Eiel/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

call mvn -s %SETTINGS% -f LOCALGIS-UTILS-inventario/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

call mvn -s %SETTINGS% -f LOCALGIS-AppContext-Alfresco/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-AppContext-EIEL/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR
call mvn -s %SETTINGS% -f LOCALGIS-AppContext-Inventario/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

call mvn -s %SETTINGS% -f LOCALGIS-ui/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR

REM ############## Aplicaciones
call mvn -s %SETTINGS% -f LOCALGIS-ui/pom.xml %TIPO_COMPILACION%
IF ERRORLEVEL 1 GOTO ERROR


:ERROR
ECHO "Error de compilacion de las librerias de LOCALGIS 3"

:FIN
ECHO.