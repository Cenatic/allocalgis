@ECHO OFF


set MAVEN_OPTS="-Xmx512m" 
set OPTIONS_UPDATE=-U %OPTIONS_SIGN%
REM set OPTIONS_UPDATE=-U %OPTIONS_SIGN% -X
echo Compilando/Instalando/Limpiando el modulo %ARTIFACT%

set DIRECTORIO=%appModulesPath2%/%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appPluginsPath2%\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appPluginsPath2%\rutas\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appWebappsPath2%\Firma\CryptoApplet\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appWebappsPath2%\Firma\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT

set DIRECTORIO=%appWebappsPath2%\GuiaUrbana\%ARTIFACT%
REM set OPTIONS_UPDATE=-U -Djarsigner.skip=true
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT

set DIRECTORIO=%appWebappsPath2%\Soa\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT

set DIRECTORIO=%appWebappsPath2%\LouRED\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT

set DIRECTORIO=%appWebappsPath2%\GeorreferenciaExternaWeb\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT

set DIRECTORIO=%appWebappsPath2%\AgendaLocal21\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT


REM set OPTIONS_UPDATE=-U %OPTIONS_SIGN%
set DIRECTORIO=%appModulesPath2%\..\ed50toetrs89\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Apps\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\ClientApps\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\DataModel\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Web\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Web\GuiaUrbana\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Web\Firma\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Servers\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appInstallerPath2%\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appInstallerPath2%\registryServices\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=..\instalador\trunk\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Instalaciones\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
set DIRECTORIO=%appModulesPath2%\installers\Actualizaciones\%ARTIFACT%
IF EXIST %DIRECTORIO% GOTO INSTALL_ARTIFACT
GOTO ERROR

:INSTALL_ARTIFACT
echo call mvn %OPTIONS% %OPTIONS_UPDATE% %VARIABLES% -s %SETTINGS% -f %DIRECTORIO%\pom.xml %TIPO_COMPILACION_DEFAULT% %DATOS_DEPLOY% %PROFILE%
call mvn %OPTIONS% %OPTIONS_UPDATE% %VARIABLES% -s %SETTINGS% -f %DIRECTORIO%\pom.xml %TIPO_COMPILACION_DEFAULT% %DATOS_DEPLOY% %PROFILE%
GOTO END


:ERROR
echo Directorio %DIRECTORIO% no existe

:END
