<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.localgis.app</groupId>
	<artifactId>localgis-apps-certificados</artifactId>
	<name>LOCALGIS Certificados</name>
	<version>3.0</version>
	<url>http://maven.apache.org</url>
	<parent>
		<groupId>com.localgis</groupId>
		<artifactId>localgis-parent</artifactId>
		<version>3.0</version>
	</parent>

	<build>
		<resources>
			<resource>
				<directory>src/main/resources</directory>
				<excludes>
					<exclude>certificados/**</exclude>
				</excludes>
			  </resource>
		</resources>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>2.3.2</version>
				<configuration>
					<target>1.7</target>
					<source>1.7</source>
					<!-- Evitar el error de las dependencias de com.sun.image.codec.jpeg -->
					<compilerArgument>-XDignore.symbol.file=true</compilerArgument>
				</configuration>
			</plugin>
			<!--plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-dependency-plugin</artifactId>
				<version>2.8</version>
				<executions>
					<execution>
						<id>copy-dependencies</id>
						<phase>package</phase>
						<goals>
							<goal>copy-dependencies</goal>
						</goals>
						<configuration>
						 	 <outputDirectory>${project.build.directory}/dependencies/lib</outputDirectory>
							 <excludeTransitive>false</excludeTransitive>
						</configuration>						
					</execution>
				</executions>
			</plugin-->
			 <plugin>
				<artifactId>maven-resources-plugin</artifactId>
				<version>2.6</version>
				<executions>
				  <execution>
					<id>copy-resources</id>
					<!-- here the phase you need -->
					<phase>package</phase>
					<goals>
					  <goal>copy-resources</goal>
					</goals>
					<configuration>
					  <outputDirectory>${project.build.directory}/dependencies</outputDirectory>
					  <resources>          
						<resource>
						  <directory>${project.build.directory}/..</directory>
						  <!--filtering>true</filtering-->
						   <includes>
						 	 <include>src/main/resources/certificados/**</include>
						   </includes>
						</resource>
						<resource>
						  <directory>${project.build.directory}/../src/main/resources</directory>
						  <!--filtering>true</filtering-->
						   <includes>
						 	 <include>*.properties</include>
						   </includes>
						</resource>
						<resource>
						  <directory>${project.build.directory}/../src/main/resources/bin</directory>
						  <!--filtering>true</filtering-->
						</resource>
						<resource>
						  <directory>${project.build.directory}/</directory>
						  <includes>
						  <include>*.jar</include>
						</includes>
						</resource>
					  </resources>              
					</configuration>            
				  </execution>
				</executions>
			  </plugin>
			<plugin>
				<artifactId>maven-assembly-plugin</artifactId>
				<version>2.4</version>									
				<configuration>					
					<descriptors>
						<descriptor>src/assemble/assembly.xml</descriptor>
					</descriptors>
					<!--finalName></finalName-->
					<appendAssemblyId>false</appendAssemblyId>
				</configuration>				
				<executions>
					<execution>
						<id>make-assembly</id>
						<phase>package</phase>
						<goals>
							<goal>single</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-install-plugin</artifactId>
				<executions>

					<execution>
						<id>localgis-apps-certificados</id>
						<phase>install</phase>
						<goals>
							<goal>install-file</goal>
						</goals>
						<configuration>
							<!-- the path to the client-side artifact to deploy -->
							<file>${project.basedir}/target/localgis-apps-certificados-${project.version}.zip</file>							
							<groupId>com.localgis.app</groupId>
							<artifactId>localgis-apps-certificados</artifactId>
							<version>${project.version}</version>
							<packaging>zip</packaging>
							<description>Aplicacion de distribucion de certificados</description>
							<uniqueVersion>false</uniqueVersion>
						</configuration>
					</execution>	

					
				</executions>
			</plugin>
		</plugins>
	</build>

	<dependencies>

	</dependencies>
</project>
