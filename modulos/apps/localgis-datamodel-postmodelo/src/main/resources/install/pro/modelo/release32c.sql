
update tables set geometrytype = 11 where name IN ('eiel_indicadores_d_captaciones', 'eiel_indicadores_d_depositos', 'eiel_indicadores_d_potabilizacion', 
'eiel_indicadores_d_rdistribucion', 'eiel_indicadores_d_comunicaciones', 'eiel_indicadores_d_suministros', 'eiel_indicadores_d_rblimpieza', 'eiel_indicadores_d_centrosen', 
'eiel_indicadores_d_ideporte', 'eiel_indicadores_d_zverde', 'eiel_indicadores_d_csanitario', 'eiel_indicadores_d_casistencial', 'eiel_indicadores_d_servotros', 
'eiel_indicadores_d_poblacion', 'eiel_indicadores_d_alumbrado', 'eiel_indicadores_d_rsaneam');

create or replace function f_add_col (t_name regclass,c_name text, sql text) returns void AS $$
begin
    IF EXISTS (
		SELECT 1 FROM pg_attribute
			WHERE  attrelid = t_name
			AND    attname = c_name
			AND    NOT attisdropped) THEN
			RAISE NOTICE 'Column % already exists in %', c_name, t_name;
	ELSE
		EXECUTE sql;
	END IF;
end;
$$ language 'plpgsql';

-- ADD en cada tabla: 
select f_add_col('public.eiel_indicadores_d_captaciones','estilo_sld', 'ALTER TABLE eiel_indicadores_d_captaciones ADD COLUMN estilo_sld character varying(2)');
select f_add_col('public.eiel_indicadores_d_depositos','estilo_sld', 'ALTER TABLE eiel_indicadores_d_depositos ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_depositos','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_depositos ADD COLUMN estilo2_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_potabilizacion','estilo_sld', 'ALTER TABLE eiel_indicadores_d_potabilizacion ADD COLUMN estilo_sld character varying(2)');
select f_add_col('public.eiel_indicadores_d_rdistribucion','estilo_sld', 'ALTER TABLE eiel_indicadores_d_rdistribucion ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_comunicaciones','estilo_sld', 'ALTER TABLE eiel_indicadores_d_comunicaciones ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_comunicaciones','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_comunicaciones ADD COLUMN estilo2_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_suministros','estilo_sld', 'ALTER TABLE eiel_indicadores_d_suministros ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_rblimpieza','estilo_sld', 'ALTER TABLE eiel_indicadores_d_rblimpieza ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_rblimpieza','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_rblimpieza ADD COLUMN estilo2_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_centrosen','estilo_sld', 'ALTER TABLE eiel_indicadores_d_centrosen ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_centrosen','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_centrosen ADD COLUMN estilo2_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_ideporte','estilo_sld', 'ALTER TABLE eiel_indicadores_d_ideporte ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_ideporte','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_ideporte ADD COLUMN estilo2_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_zverde','estilo_sld', 'ALTER TABLE eiel_indicadores_d_zverde ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_csanitario','estilo_sld', 'ALTER TABLE eiel_indicadores_d_csanitario ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_casistencial','estilo_sld', 'ALTER TABLE eiel_indicadores_d_casistencial ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_servotros','estilo_sld', 'ALTER TABLE eiel_indicadores_d_servotros ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_alumbrado','estilo_sld', 'ALTER TABLE eiel_indicadores_d_alumbrado ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_poblacion','estilo_sld', 'ALTER TABLE eiel_indicadores_d_poblacion ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_poblacion','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_poblacion ADD COLUMN estilo2_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_rsaneam','estilo_sld', 'ALTER TABLE eiel_indicadores_d_rsaneam ADD COLUMN estilo_sld character varying(2);');
select f_add_col('public.eiel_indicadores_d_rsaneam','estilo2_sld', 'ALTER TABLE eiel_indicadores_d_rsaneam ADD COLUMN estilo2_sld character varying(2);');


-- ADD en domain:
SELECT setval('public.seq_domains', (select max(id)::bigint from domains), true);
SELECT setval('public.seq_domainnodes', (select max(id)::bigint from domainnodes), true);
SELECT setval('public.seq_layers', (select max(id_layer)::bigint from layers), true);


CREATE OR REPLACE FUNCTION localgisDatamodelInstall() RETURNS VOID AS
$Q$
BEGIN
	IF NOT EXISTS (SELECT * FROM domains WHERE name = 'eiel_Indicadores_Estilo') THEN	
	
	insert into domains (ID, NAME,idacl,ID_CATEGORY)values(nextval('seq_domains'),'eiel_Indicadores_Estilo',((select idacl FROM acl WHERE name='EIEL')),5);  
  	
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(nextval('seq_dictionary'),'es_ES','eiel_Indicadores_Estilo');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ga_ES','eiel_Indicadores_Estilo');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'va_ES','eiel_Indicadores_Estilo');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'eu_ES','eiel_Indicadores_Estilo');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ca_ES','eiel_Indicadores_Estilo');
	
	insert into domainnodes (id,id_domain, pattern,  ID_DESCRIPTION, "type",permissionlevel, parentdomain,id_municipio)
  		values(nextval('seq_domainnodes'),currval('seq_domains'),null,currval('seq_dictionary'),4,null,null,null);

	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(nextval('seq_dictionary'),'es_ES','Estilo 0');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ga_ES','Estilo 0');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'va_ES','Estilo 0');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'eu_ES','Estilo 0');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ca_ES','Estilo 0');
	
	insert into domainnodes (id,id_domain, pattern,  ID_DESCRIPTION, "type",permissionlevel, parentdomain,id_municipio)
		values(currval('seq_domainnodes')+1,currval('seq_domains'),'0',currval('seq_dictionary'),7,null,currval('seq_domainnodes'),null);

	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(nextval('seq_dictionary'),'es_ES','Estilo 1');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ga_ES','Estilo 1');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'va_ES','Estilo 1');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'eu_ES','Estilo 1');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ca_ES','Estilo 1');
	
	insert into domainnodes (id,id_domain, pattern,  ID_DESCRIPTION, "type",permissionlevel, parentdomain,id_municipio)
		values(currval('seq_domainnodes')+2,currval('seq_domains'),'1',currval('seq_dictionary'),7,null,currval('seq_domainnodes'),null);

	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(nextval('seq_dictionary'),'es_ES','Estilo 2');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ga_ES','Estilo 2');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'va_ES','Estilo 2');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'eu_ES','Estilo 2');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ca_ES','Estilo 2');
	
	insert into domainnodes (id,id_domain, pattern,  ID_DESCRIPTION, "type",permissionlevel, parentdomain,id_municipio)
		values(currval('seq_domainnodes')+3,currval('seq_domains'),'2',currval('seq_dictionary'),7,null,currval('seq_domainnodes'),null);

	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(nextval('seq_dictionary'),'es_ES','Estilo 3');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ga_ES','Estilo 3');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'va_ES','Estilo 3');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'eu_ES','Estilo 3');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ca_ES','Estilo 3');
	
	insert into domainnodes (id,id_domain, pattern,  ID_DESCRIPTION, "type",permissionlevel, parentdomain,id_municipio)
		values(currval('seq_domainnodes')+4,currval('seq_domains'),'3',currval('seq_dictionary'),7,null,currval('seq_domainnodes'),null);

	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(nextval('seq_dictionary'),'es_ES','Estilo 4');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ga_ES','Estilo 4');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'va_ES','Estilo 4');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'eu_ES','Estilo 4');
	insert into DICTIONARY (ID_VOCABLO,LOCALE,TRADUCCION)values(currval('seq_dictionary'),'ca_ES','Estilo 4');
	
	insert into domainnodes (id,id_domain, pattern,  ID_DESCRIPTION, "type",permissionlevel, parentdomain,id_municipio)
		values(currval('seq_domainnodes')+5,currval('seq_domains'),'4',currval('seq_dictionary'),7,null,currval('seq_domainnodes'),null);

	-- ADD en COLUMNS y ATTRIBUTES:

	-- eiel_indicadores_d_captaciones
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_captaciones'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_II_Captaciones
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones'),CURRVAL('seq_columns'), (select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_captaciones"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ncaptacionesm>0 THEN ''3'' ELSE ''1'' END AS estilo_sld, "eiel_indicadores_d_captaciones"."id","eiel_indicadores_d_captaciones"."toponimo","eiel_indicadores_d_captaciones"."id_municipio","eiel_indicadores_d_captaciones"."codprov","eiel_indicadores_d_captaciones"."codentidad","eiel_indicadores_d_captaciones"."codmunic","eiel_indicadores_d_captaciones"."codpoblamiento","eiel_indicadores_d_captaciones"."ncaptaciones","eiel_indicadores_d_captaciones"."ncaptacionesb","eiel_indicadores_d_captaciones"."ncaptacionesm","eiel_indicadores_d_captaciones"."ncaptacionesr","eiel_indicadores_d_captaciones"."numest_caudalins","eiel_indicadores_d_captaciones"."numest_caudalsuf","eiel_indicadores_d_captaciones"."numest_restricf","eiel_indicadores_d_captaciones"."numest_restricm","eiel_indicadores_d_captaciones"."numest_restricn","eiel_indicadores_d_captaciones"."numhab_caudalins","eiel_indicadores_d_captaciones"."numhab_cauldalsuf","eiel_indicadores_d_captaciones"."numhab_resticn","eiel_indicadores_d_captaciones"."numhab_restricf","eiel_indicadores_d_captaciones"."numhab_restricm","eiel_indicadores_d_captaciones"."numn_caudalins","eiel_indicadores_d_captaciones"."numn_caudalsuf","eiel_indicadores_d_captaciones"."numn_restricf","eiel_indicadores_d_captaciones"."numn_restricm","eiel_indicadores_d_captaciones"."numn_restricn" FROM "eiel_indicadores_d_captaciones" WHERE "eiel_indicadores_d_captaciones"."id_municipio"  in (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_II_Captaciones</Name><UserStyle><Name>EIEL_Indicadores_II_Captaciones:_:default:EIEL_Indicadores_II_Captaciones</Name><Title>EIEL_Indicadores_II_Captaciones:_:default:EIEL_Indicadores_II_Captaciones</Title><Abstract>EIEL_Indicadores_II_Captaciones:_:default:EIEL_Indicadores_II_Captaciones</Abstract><FeatureTypeStyle><Name>EIEL_Indicadores_II_Captaciones</Name><Rule><Name>NumeroCaptaciones 0</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>Núm. de captaciones</ogc:PropertyName></Label><Font><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter><CssParameter name=''font-color''>#000000</CssParameter><CssParameter name=''font-family''>Arial Black</CssParameter><CssParameter name=''font-weight''>normal</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>0.5</AnchorPointX><AnchorPointY>0.5</AnchorPointY></AnchorPoint><Displacement><DisplacementX>0.0</DisplacementX><DisplacementY>0.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule><Rule><Name>Núm. captaciones estado Malo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>Núm. de captaciones</ogc:PropertyName></Label><Font><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter><CssParameter name=''font-color''>#ff0000</CssParameter><CssParameter name=''font-family''>Arial Black</CssParameter><CssParameter name=''font-weight''>normal</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>0.5</AnchorPointX><AnchorPointY>0.5</AnchorPointY></AnchorPoint><Displacement><DisplacementX>0.0</DisplacementX><DisplacementY>0.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones') LIMIT 1);

	-- EIEL_Indicadores_II_Captaciones_Restricciones
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones_Restricciones'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones_Restricciones')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_captaciones"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN numhab_resticn>0 THEN ''1'' WHEN numhab_restricf>0 THEN ''3'' WHEN numhab_restricm>0 THEN ''2'' END AS estilo_sld, "eiel_indicadores_d_captaciones"."id","eiel_indicadores_d_captaciones"."toponimo","eiel_indicadores_d_captaciones"."id_municipio","eiel_indicadores_d_captaciones"."codprov","eiel_indicadores_d_captaciones"."codentidad","eiel_indicadores_d_captaciones"."codmunic","eiel_indicadores_d_captaciones"."codpoblamiento","eiel_indicadores_d_captaciones"."numhab_caudalins","eiel_indicadores_d_captaciones"."numhab_cauldalsuf","eiel_indicadores_d_captaciones"."numhab_resticn","eiel_indicadores_d_captaciones"."numhab_restricf","eiel_indicadores_d_captaciones"."numhab_restricm","eiel_indicadores_d_captaciones"."numest_caudalins","eiel_indicadores_d_captaciones"."numest_caudalsuf","eiel_indicadores_d_captaciones"."numest_restricn","eiel_indicadores_d_captaciones"."numest_restricf","eiel_indicadores_d_captaciones"."numest_restricm" FROM "eiel_indicadores_d_captaciones" WHERE "eiel_indicadores_d_captaciones"."id_municipio" in (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones_Restricciones');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_II_Captaciones_Restricciones</Name><UserStyle><Name>EIEL_Indicadores_II_Captaciones_Restricciones:_:default:EIEL_Indicadores_II_Captaciones_Restricciones</Name><Title>EIEL_Indicadores_II_Captaciones_Restricciones:_:default:EIEL_Indicadores_II_Captaciones_Restricciones</Title><Abstract>EIEL_Indicadores_II_Captaciones_Restricciones:_:default:EIEL_Indicadores_II_Captaciones_Restricciones</Abstract><FeatureTypeStyle><Rule><Name>Pob. sin restricciones</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.99999999999E11</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#99ff66</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Pob. restricciones medias</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.99999999999E11</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcc33</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Pob. restricciones fuertes</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.99999999999E11</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3333</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Captaciones_Restricciones') LIMIT 1); 
	-----------------------------

	-- eiel_indicadores_d_depositos
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_depositos'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_II_Depositos
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Depositos'),CURRVAL('seq_columns'), (select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Depositos')),true);

	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo2_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_depositos'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Depositos'),CURRVAL('seq_columns'), (select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Depositos')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_depositos"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN (capacidadtotal>=4 AND capacidadtotal < 15) THEN ''1'' WHEN (capacidadtotal>=15 AND capacidadtotal < 30) THEN ''2'' WHEN (capacidadtotal>=30 AND capacidadtotal < 60) THEN ''3'' WHEN (capacidadtotal>=60 AND capacidadtotal < 1000) THEN ''4'' END AS estilo_sld, CASE WHEN (capacidad_r>0 AND capacidad_m>0) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_depositos"."id","eiel_indicadores_d_depositos"."toponimo","eiel_indicadores_d_depositos"."id_municipio","eiel_indicadores_d_depositos"."codprov","eiel_indicadores_d_depositos"."codmunic","eiel_indicadores_d_depositos"."codentidad","eiel_indicadores_d_depositos"."codpoblamiento","eiel_indicadores_d_depositos"."capacidadtotal","eiel_indicadores_d_depositos"."capacidad_b","eiel_indicadores_d_depositos"."capacidad_r","eiel_indicadores_d_depositos"."capacidad_m","eiel_indicadores_d_depositos"."ndepositostotal","eiel_indicadores_d_depositos"."ndepositos_b","eiel_indicadores_d_depositos"."ndepositos_m","eiel_indicadores_d_depositos"."ndepositos_r" FROM "eiel_indicadores_d_depositos" WHERE "eiel_indicadores_d_depositos"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Depositos');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_II_Depositos</Name><UserStyle><Name>EIEL_Indicadores_II_Depositos:_:default:EIEL_Indicadores_II_Depositos</Name><Title>EIEL_Indicadores_II_Depositos:_:default:EIEL_Indicadores_II_Depositos</Title><Abstract>EIEL_Indicadores_II_Depositos:_:default:EIEL_Indicadores_II_Depositos</Abstract><FeatureTypeStyle><Name>EIEL_Ind_II_Depositos_Capacidad</Name><Rule><Name>Capacidad en estado regular y malo</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#cc0000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Capacidad total muy baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ccffcc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Capacidad total baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#66ccff</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Capacidad total media</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#cc99ff</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Capacidad total alta</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff9999</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Depositos') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_potabilizacion
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_potabilizacion'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_II_Potabilizacion
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Potabilizacion'),CURRVAL('seq_columns'), (select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Potabilizacion')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_potabilizacion"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN npotab=0 THEN ''1'' ELSE ''2'' END AS estilo_sld, "eiel_indicadores_d_potabilizacion"."id","eiel_indicadores_d_potabilizacion"."toponimo","eiel_indicadores_d_potabilizacion"."id_municipio","eiel_indicadores_d_potabilizacion"."codprov","eiel_indicadores_d_potabilizacion"."codmunic","eiel_indicadores_d_potabilizacion"."codentidad","eiel_indicadores_d_potabilizacion"."codpoblamiento","eiel_indicadores_d_potabilizacion"."npotab","eiel_indicadores_d_potabilizacion"."npotab_clorac","eiel_indicadores_d_potabilizacion"."npotab_basica","eiel_indicadores_d_potabilizacion"."npotab_otros","eiel_indicadores_d_potabilizacion"."npercontrol_a","eiel_indicadores_d_potabilizacion"."npercontrol_m","eiel_indicadores_d_potabilizacion"."npercontrol_b","eiel_indicadores_d_potabilizacion"."npercontrol_n","eiel_indicadores_d_potabilizacion"."npotab_estadob","eiel_indicadores_d_potabilizacion"."npotab_estador","eiel_indicadores_d_potabilizacion"."npotab_estadom" FROM "eiel_indicadores_d_potabilizacion" WHERE "eiel_indicadores_d_potabilizacion"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Potabilizacion');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_II_Potabilizacion</Name><UserStyle><Name>EIEL_Indicadores_II_Potabilizacion:_:default</Name><Title>EIEL_Indicadores_II_Potabilizacion:_:default</Title><Abstract>EIEL_Indicadores_II_Potabilizacion:_:default</Abstract><FeatureTypeStyle><Rule><Name>Sin potabilizadoras</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3333</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>default</Name><Title>default</Title><Abstract>default</Abstract><MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>Num potabilizadoras</ogc:PropertyName></Label><Font><CssParameter name=''font-color''>#000000</CssParameter><CssParameter name=''font-family''>Agency FB</CssParameter><CssParameter name=''font-weight''>normal</CssParameter><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>1.0</AnchorPointX><AnchorPointY>0.0</AnchorPointY></AnchorPoint><Displacement><DisplacementX>10.0</DisplacementX><DisplacementY>10.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_Potabilizacion') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_rdistribucion
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_rdistribucion'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_II_RedDistribucion
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_II_RedDistribucion'),CURRVAL('seq_columns'), (select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_RedDistribucion')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_rdistribucion"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN (rd_longitud_estado_b>rd_longitud_estado_r AND rd_longitud_estado_b>rd_longitud_estado_m) THEN ''1'' WHEN rd_longitud_estado_r>0 THEN ''2'' WHEN rd_longitud_estado_m>0 THEN ''3'' END AS estilo_sld, "eiel_indicadores_d_rdistribucion"."id","eiel_indicadores_d_rdistribucion"."toponimo","eiel_indicadores_d_rdistribucion"."id_municipio","eiel_indicadores_d_rdistribucion"."codprov","eiel_indicadores_d_rdistribucion"."codmunic","eiel_indicadores_d_rdistribucion"."codentidad","eiel_indicadores_d_rdistribucion"."codpoblamiento","eiel_indicadores_d_rdistribucion"."habitantescalidadrd_b","eiel_indicadores_d_rdistribucion"."habitantescalidadrd_m","eiel_indicadores_d_rdistribucion"."habitantescalidadrd_r","eiel_indicadores_d_rdistribucion"."numnucleos","eiel_indicadores_d_rdistribucion"."numnucleoscalidadrd_b","eiel_indicadores_d_rdistribucion"."numnucleoscalidadrd_m","eiel_indicadores_d_rdistribucion"."numnucleoscalidadrd_r","eiel_indicadores_d_rdistribucion"."pobestacionalcalidadrd_b","eiel_indicadores_d_rdistribucion"."pobestacionalcalidadrd_m","eiel_indicadores_d_rdistribucion"."pobestacionalcalidadrd_r","eiel_indicadores_d_rdistribucion"."rdistrib_habitantes_au","eiel_indicadores_d_rdistribucion"."rdistrib_pobest_au","eiel_indicadores_d_rdistribucion"."rdistrib_viviendas_au","eiel_indicadores_d_rdistribucion"."rdistrib_viviendas_sin_conexion","eiel_indicadores_d_rdistribucion"."rd_longitud_estado_b","eiel_indicadores_d_rdistribucion"."rd_longitud_estado_m","eiel_indicadores_d_rdistribucion"."rd_longitud_estado_r","eiel_indicadores_d_rdistribucion"."consumoinvierno","eiel_indicadores_d_rdistribucion"."consumoverano" FROM "eiel_indicadores_d_rdistribucion" WHERE "eiel_indicadores_d_rdistribucion"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_RedDistribucion');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_II_RedDistribucion</Name><UserStyle><Name>EIEL_Indicadores_II_RedDistribucion:_:default:EIEL_Indicadores_II_RedDistribucion</Name><Title>EIEL_Indicadores_II_RedDistribucion:_:default:EIEL_Indicadores_II_RedDistribucion</Title><Abstract>EIEL_Indicadores_II_RedDistribucion:_:default:EIEL_Indicadores_II_RedDistribucion</Abstract><FeatureTypeStyle><Name>EIEL_Indicadores_II_RedDistribucion</Name><Rule><Name>Estado bueno</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#99ff99</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Estado regular</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcc66</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Estado malo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>default</Name><Title>default</Title><Abstract>default</Abstract><MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PointSymbolizer><Graphic><Mark><WellKnownName>square</WellKnownName><Fill><CssParameter name=''fill-opacity''>1.0</CssParameter><CssParameter name=''fill''>#ffffff</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1.0</ogc:Literal></CssParameter></Stroke></Mark><Opacity>1.0</Opacity><Size><ogc:Literal>5.0</ogc:Literal></Size><Rotation>0.0</Rotation></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_II_RedDistribucion') LIMIT 1);


	-----------------------------

	-- eiel_indicadores_d_comunicaciones
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_comunicaciones'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_III_Comunicaciones
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Comunicaciones'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Comunicaciones')),true);

	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo2_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_comunicaciones'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Comunicaciones'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Comunicaciones')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_comunicaciones"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((nnuc_tv_n >= 1) OR (nnuc_tv_r >= 1) OR (nnuc_tv_m >= 1)) THEN ''1'' ELSE ''2'' END AS estilo_sld, CASE WHEN (nnuc_serv_telefono_no = 1) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_comunicaciones"."id","eiel_indicadores_d_comunicaciones"."toponimo","eiel_indicadores_d_comunicaciones"."id_municipio","eiel_indicadores_d_comunicaciones"."codprov","eiel_indicadores_d_comunicaciones"."codmunic","eiel_indicadores_d_comunicaciones"."codentidad","eiel_indicadores_d_comunicaciones"."codpoblamiento","eiel_indicadores_d_comunicaciones"."nhab_serv_telefono","eiel_indicadores_d_comunicaciones"."nhab_serv_telefono_no","eiel_indicadores_d_comunicaciones"."nhab_tv_b","eiel_indicadores_d_comunicaciones"."nhab_tv_r","eiel_indicadores_d_comunicaciones"."nhab_tv_m","eiel_indicadores_d_comunicaciones"."nhab_tv_n","eiel_indicadores_d_comunicaciones"."nest_serv_telefono","eiel_indicadores_d_comunicaciones"."nest_serv_telefono_no","eiel_indicadores_d_comunicaciones"."nest_tv_b","eiel_indicadores_d_comunicaciones"."nest_tv_r","eiel_indicadores_d_comunicaciones"."nest_tv_m","eiel_indicadores_d_comunicaciones"."nest_tv_n","eiel_indicadores_d_comunicaciones"."nnuc_serv_telefono","eiel_indicadores_d_comunicaciones"."nnuc_serv_telefono_no","eiel_indicadores_d_comunicaciones"."nnuc_tv_b","eiel_indicadores_d_comunicaciones"."nnuc_tv_r","eiel_indicadores_d_comunicaciones"."nnuc_tv_m","eiel_indicadores_d_comunicaciones"."nnuc_tv_n" FROM "eiel_indicadores_d_comunicaciones" WHERE "eiel_indicadores_d_comunicaciones"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Comunicaciones');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_III_Comunicaciones</Name><UserStyle><Name>EIEL_Indicadores_III_Comunicaciones:_:default</Name><Title>EIEL_Indicadores_III_Comunicaciones:_:default</Title><Abstract>EIEL_Indicadores_III_Comunicaciones:_:default</Abstract><FeatureTypeStyle><Rule><Name>Núcleo sin servicio telefónico</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#ff0000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Núcleo con mala señal de TV</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Comunicaciones') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_suministros
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_suministros'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_III_Suministros
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Suministros'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Suministros')),true);
	UPDATE QUERIES SET selectquery = 'SELECT "eiel_indicadores_d_suministros"."id",transform("eiel_indicadores_d_suministros"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN (nnuc_serv_elec_n = 0) AND (nnuc_serv_elec_r = 0) AND (nnuc_serv_elec_m = 0) AND (nnuc_serv_gas_n = 0) AND (nnuc_serv_gas_r = 0) AND (nnuc_serv_gas_m = 0) THEN ''1'' ELSE ''2'' END AS estilo_sld, "eiel_indicadores_d_suministros"."id_municipio","eiel_indicadores_d_suministros"."toponimo","eiel_indicadores_d_suministros"."codprov","eiel_indicadores_d_suministros"."codmunic","eiel_indicadores_d_suministros"."codentidad","eiel_indicadores_d_suministros"."codpoblamiento","eiel_indicadores_d_suministros"."nnuc_serv_elec_b","eiel_indicadores_d_suministros"."nnuc_serv_elec_r","eiel_indicadores_d_suministros"."nnuc_serv_elec_m","eiel_indicadores_d_suministros"."nnuc_serv_elec_n","eiel_indicadores_d_suministros"."nhab_serv_elec_b","eiel_indicadores_d_suministros"."nhab_serv_elec_r","eiel_indicadores_d_suministros"."nhab_serv_elec_m","eiel_indicadores_d_suministros"."nhab_serv_elec_n","eiel_indicadores_d_suministros"."nest_serv_elec_b","eiel_indicadores_d_suministros"."nest_serv_elect_r","eiel_indicadores_d_suministros"."nest_serv_elec_m","eiel_indicadores_d_suministros"."nest_serv_elec_n","eiel_indicadores_d_suministros"."nnuc_serv_gas_b","eiel_indicadores_d_suministros"."nnuc_serv_gas_r","eiel_indicadores_d_suministros"."nnuc_serv_gas_m","eiel_indicadores_d_suministros"."nnuc_serv_gas_n","eiel_indicadores_d_suministros"."nhab_serv_gas_b","eiel_indicadores_d_suministros"."nhab_serv_gas_r","eiel_indicadores_d_suministros"."nhab_serv_gas_m","eiel_indicadores_d_suministros"."nhab_serv_gas_n","eiel_indicadores_d_suministros"."nest_serv_gas_b","eiel_indicadores_d_suministros"."nest_serv_gas_r","eiel_indicadores_d_suministros"."nest_serv_gas_m","eiel_indicadores_d_suministros"."nest_serv_gas_n" FROM "eiel_indicadores_d_suministros" WHERE "eiel_indicadores_d_suministros"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Suministros');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_III_Suministros</Name><UserStyle><Name>EIEL_Indicadores_III_Suministros:_:default</Name><Title>EIEL_Indicadores_III_Suministros:_:default</Title><Abstract>EIEL_Indicadores_III_Suministros:_:default</Abstract><FeatureTypeStyle><Rule><Name>Núcleos con servicios</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ccffcc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Suministros') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_rblimpieza
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_rblimpieza'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_IV_Limpieza
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_Limpieza'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_Limpieza')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_rblimpieza"."GEOMETRY", ?T) AS "GEOMETRY","eiel_indicadores_d_rblimpieza"."id","eiel_indicadores_d_rblimpieza"."id_municipio","eiel_indicadores_d_rblimpieza"."toponimo","eiel_indicadores_d_rblimpieza"."codprov","eiel_indicadores_d_rblimpieza"."codmunic","eiel_indicadores_d_rblimpieza"."codentidad","eiel_indicadores_d_rblimpieza"."codpoblamiento","eiel_indicadores_d_rblimpieza"."nnuc_limp_si","eiel_indicadores_d_rblimpieza"."nhab_limp_si","eiel_indicadores_d_rblimpieza"."nest_limp_si","eiel_indicadores_d_rblimpieza"."nnuc_limp_no","eiel_indicadores_d_rblimpieza"."nhab_limp_no","eiel_indicadores_d_rblimpieza"."nest_limp_no" FROM "eiel_indicadores_d_rblimpieza" WHERE "eiel_indicadores_d_rblimpieza"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_Limpieza');

	-- EIEL_Indicadores_IV_RecogidaBasuras
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_RecogidaBasuras'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_RecogidaBasuras')),true);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_RecogidaBasuras'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_RecogidaBasuras')),true);

	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_rblimpieza"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((n_contenedores >= 1) AND (n_contenedores < 3)) THEN ''1'' WHEN ((n_contenedores >= 3) AND (n_contenedores < 4)) THEN ''2'' WHEN ((n_contenedores >= 5) AND (n_contenedores < 6)) THEN ''3'' WHEN ((n_contenedores >= 6) AND (n_contenedores < 49)) THEN ''4'' END AS estilo_sld, CASE WHEN (nnuc_rbl_no >= 1) OR (nnuc_rbl_calidad_in >= 1) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_rblimpieza"."id","eiel_indicadores_d_rblimpieza"."id_municipio","eiel_indicadores_d_rblimpieza"."toponimo","eiel_indicadores_d_rblimpieza"."codprov","eiel_indicadores_d_rblimpieza"."codmunic","eiel_indicadores_d_rblimpieza"."codentidad","eiel_indicadores_d_rblimpieza"."codpoblamiento","eiel_indicadores_d_rblimpieza"."nnuc_rbl_no","eiel_indicadores_d_rblimpieza"."nhab_rbl_no","eiel_indicadores_d_rblimpieza"."nest_rbl_no","eiel_indicadores_d_rblimpieza"."nnuc_rbl_period_me","eiel_indicadores_d_rblimpieza"."nhab_rbl_period_me","eiel_indicadores_d_rblimpieza"."nest_rble_period_me","eiel_indicadores_d_rblimpieza"."nnuc_rbl_period_ba","eiel_indicadores_d_rblimpieza"."nhab_rbl_period_ba","eiel_indicadores_d_rblimpieza"."nest_rbl_period_ba","eiel_indicadores_d_rblimpieza"."nnuc_rbl_calidad_ad","eiel_indicadores_d_rblimpieza"."nhab_rbl_calidad_ad","eiel_indicadores_d_rblimpieza"."nest_rbl_calidad_ad","eiel_indicadores_d_rblimpieza"."nnuc_rbl_calidad_in","eiel_indicadores_d_rblimpieza"."nhab_rbl_calidad_in","eiel_indicadores_d_rblimpieza"."nest_rbl_calidad_in","eiel_indicadores_d_rblimpieza"."nnuc_rb_selectiva_si","eiel_indicadores_d_rblimpieza"."nhab_rb_selectiva_si","eiel_indicadores_d_rblimpieza"."nest_rb_selectiva_si","eiel_indicadores_d_rblimpieza"."nnuc_rb_selectiva_no","eiel_indicadores_d_rblimpieza"."nhab_rb_selectiva_no","eiel_indicadores_d_rblimpieza"."nest_rb_selectiva_no","eiel_indicadores_d_rblimpieza"."nnuc_limp_si","eiel_indicadores_d_rblimpieza"."nhab_limp_si","eiel_indicadores_d_rblimpieza"."nest_limp_si","eiel_indicadores_d_rblimpieza"."nnuc_limp_no","eiel_indicadores_d_rblimpieza"."nhab_limp_no","eiel_indicadores_d_rblimpieza"."nest_limp_no","eiel_indicadores_d_rblimpieza"."nviv_serv_deficit","eiel_indicadores_d_rblimpieza"."nhab_serv_deficit","eiel_indicadores_d_rblimpieza"."nest_serv_deficit","eiel_indicadores_d_rblimpieza"."n_contenedores" FROM "eiel_indicadores_d_rblimpieza" WHERE "eiel_indicadores_d_rblimpieza"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_RecogidaBasuras');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_IV_RecogidaBasuras</Name><UserStyle><Name>EIEL_Indicadores_IV_RecogidaBasuras:_:default</Name><Title>EIEL_Indicadores_IV_RecogidaBasuras:_:default</Title><Abstract>EIEL_Indicadores_IV_RecogidaBasuras:_:default</Abstract><FeatureTypeStyle><Rule><Name>Calidad del servicio deficiente</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#ff3300</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Número de contenedores alto</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3333</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Número de contenedores medio</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Número de contenedores bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcc33</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Número de contenedores muy bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#99ff99</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_IV_RecogidaBasuras') LIMIT 1);
	-----------------------------

	-- eiel_indicadores_d_centrosen
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_centrosen'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_V_CEnsenanza
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_V_CEnsenanza'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_CEnsenanza')),true);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_V_CEnsenanza'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_CEnsenanza')),true);

	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_centrosen"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((primaria_nalumnos >= 26) AND (primaria_nalumnos < 86)) THEN ''1'' WHEN ((primaria_nalumnos >= 86) AND (primaria_nalumnos < 214)) THEN ''2'' WHEN ((primaria_nalumnos >= 214) AND (primaria_nalumnos < 446)) THEN ''3'' WHEN ((primaria_nalumnos >= 446) AND (primaria_nalumnos < 725)) THEN ''4'' END AS estilo_sld, CASE WHEN (guarderia_sup_alibre_m > 0) OR (guarderia_sup_cubierta_m > 0) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_centrosen"."id","eiel_indicadores_d_centrosen"."toponimo","eiel_indicadores_d_centrosen"."id_municipio","eiel_indicadores_d_centrosen"."codprov","eiel_indicadores_d_centrosen"."codmunic","eiel_indicadores_d_centrosen"."codentidad","eiel_indicadores_d_centrosen"."codpoblamiento","eiel_indicadores_d_centrosen"."einfantil_ncen","eiel_indicadores_d_centrosen"."einfantil_nalumnos","eiel_indicadores_d_centrosen"."einfantil_plazas","eiel_indicadores_d_centrosen"."primaria_ncen","eiel_indicadores_d_centrosen"."primaria_nalumnos","eiel_indicadores_d_centrosen"."primaria_plazas","eiel_indicadores_d_centrosen"."fp_ncen","eiel_indicadores_d_centrosen"."fp_nalumnos","eiel_indicadores_d_centrosen"."fp_plazas","eiel_indicadores_d_centrosen"."secundaria_ncen","eiel_indicadores_d_centrosen"."secundaria_nalumnos","eiel_indicadores_d_centrosen"."secundaria_plazas","eiel_indicadores_d_centrosen"."guarderia_ncen","eiel_indicadores_d_centrosen"."guarderia_capacidad","eiel_indicadores_d_centrosen"."guarderia_sup_alibre_b","eiel_indicadores_d_centrosen"."guarderia_sup_alibre_r","eiel_indicadores_d_centrosen"."guarderia_sup_alibre_m","eiel_indicadores_d_centrosen"."guarderia_sup_cubierta_b","eiel_indicadores_d_centrosen"."guarderia_sup_cubierta_r","eiel_indicadores_d_centrosen"."guarderia_sup_cubierta_m" FROM "eiel_indicadores_d_centrosen" WHERE "eiel_indicadores_d_centrosen"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_CEnsenanza');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_V_CEnsenanza</Name><UserStyle><Name>EIEL_Indicadores_V_CEnsenanza:_:default</Name><Title>EIEL_Indicadores_V_CEnsenanza:_:default</Title><Abstract>EIEL_Indicadores_V_CEnsenanza:_:default</Abstract><FeatureTypeStyle><Rule><Name>Guardería en estado defectuoso</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:Literal>1</ogc:Literal><ogc:PropertyName>estilo2_sld</ogc:PropertyName></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#ff0000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Alumnos en primaria alto</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#f69ee0</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Alumnos en primaria medioo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ac189b</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Alumnos en primaria bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#93453d</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Alumnos en primaria muy bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#0256cc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_CEnsenanza') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_ideporte
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_ideporte'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_V_Deporte
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte')),true);

	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo2_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_ideporte'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte')),true);

	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_ideporte"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((sup_alibre_b >= 373) AND (sup_alibre_b < 5930)) THEN ''1'' WHEN ((sup_alibre_b >= 5930) AND (sup_alibre_b < 9891)) THEN ''2'' WHEN ((sup_alibre_b >= 9891) AND (sup_alibre_b < 11755)) THEN ''3'' WHEN ((sup_alibre_b >= 11755) AND (sup_alibre_b < 330706)) THEN ''4'' END AS estilo_sld, CASE WHEN (sup_alibre_r > 0) OR (sup_alibre_m > 0) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_ideporte"."id","eiel_indicadores_d_ideporte"."toponimo","eiel_indicadores_d_ideporte"."id_municipio","eiel_indicadores_d_ideporte"."codprov","eiel_indicadores_d_ideporte"."codmunic","eiel_indicadores_d_ideporte"."codentidad","eiel_indicadores_d_ideporte"."codpoblamiento","eiel_indicadores_d_ideporte"."npiscinas","eiel_indicadores_d_ideporte"."npolideportiv","eiel_indicadores_d_ideporte"."npolideportiv_alibre","eiel_indicadores_d_ideporte"."sup_alibre_b","eiel_indicadores_d_ideporte"."sup_alibre_r","eiel_indicadores_d_ideporte"."sup_alibre_m" FROM "eiel_indicadores_d_ideporte" WHERE "eiel_indicadores_d_ideporte"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_V_Deporte</Name><UserStyle><Name>EIEL_Indicadores_V_Deporte:_:default</Name><Title>EIEL_Indicadores_V_Deporte:_:default</Title><Abstract>EIEL_Indicadores_V_Deporte:_:default</Abstract><FeatureTypeStyle><Rule><Name>Superficie al aire libre en estado defectuoso</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#ff0000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie al aire libre en buen estado, muy bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#131f73</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie al aire libre en buen estado, bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#a0a1f8</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie al aire libre en buen estado, medio</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#67c44d</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie al aire libre en buen estado, alto</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#dd437c</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_zverde
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_zverde'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_V_ZonasVerdes
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_V_ZonasVerdes'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_ZonasVerdes')),true);

	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo2_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_zverde'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_V_ZonasVerdes'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_Deporte')),true);

	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_zverde"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((sup_pn_b >= 27) AND (sup_pn_b < 900)) THEN ''1'' WHEN ((sup_pn_b >= 900) AND (sup_pn_b < 1800)) THEN ''2'' WHEN ((sup_pn_b >= 1800) AND (sup_pn_b < 17267)) THEN ''3'' WHEN ((sup_pn_b >= 17267) AND (sup_pn_b < 338763)) THEN ''4'' END AS estilo_sld, CASE WHEN (sup_pn_r > 0) OR (sup_pn_m > 0) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_zverde"."id","eiel_indicadores_d_zverde"."toponimo","eiel_indicadores_d_zverde"."id_municipio","eiel_indicadores_d_zverde"."codprov","eiel_indicadores_d_zverde"."codmunic","eiel_indicadores_d_zverde"."codentidad","eiel_indicadores_d_zverde"."codpoblamiento","eiel_indicadores_d_zverde"."sup_pn_b","eiel_indicadores_d_zverde"."sup_pn_r","eiel_indicadores_d_zverde"."sup_pn_m" FROM "eiel_indicadores_d_zverde" WHERE "eiel_indicadores_d_zverde"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_ZonasVerdes');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_V_ZonasVerdes</Name><UserStyle><Name>EIEL_Indicadores_V_ZonasVerdes:_:default</Name><Title>EIEL_Indicadores_V_ZonasVerdes:_:default</Title><Abstract>EIEL_Indicadores_V_ZonasVerdes:_:default</Abstract><FeatureTypeStyle><Rule><Name>Superficie de zonas verdes en estado defectuoso</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#ff0000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie aire libre en estado bueno, muy bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#cea9a2</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie aire libre en estado bueno, bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#a3f5ea</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie aire libre en estado bueno, medio</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#2a8368</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Superficie aire libre en estado bueno, alto</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#b00401</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_V_ZonasVerdes') LIMIT 1);
		
	-----------------------------

	-- eiel_indicadores_d_csanitario
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_csanitario'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_VI_Sanidad
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_VI_Sanidad'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VI_Sanidad')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_csanitario"."GEOMETRY", ?T) AS "GEOMETRY","eiel_indicadores_d_csanitario"."id","eiel_indicadores_d_csanitario"."toponimo","eiel_indicadores_d_csanitario"."id_municipio","eiel_indicadores_d_csanitario"."codprov","eiel_indicadores_d_csanitario"."codmunic","eiel_indicadores_d_csanitario"."codentidad","eiel_indicadores_d_csanitario"."codpoblamiento","eiel_indicadores_d_csanitario"."ncamashospital","eiel_indicadores_d_csanitario"."ncentrossalud","eiel_indicadores_d_csanitario"."ncentrosurg","eiel_indicadores_d_csanitario"."nconsultorioslocal","eiel_indicadores_d_csanitario"."nest_sincsanitario","eiel_indicadores_d_csanitario"."nhab_sincsanitario","eiel_indicadores_d_csanitario"."nhospital","eiel_indicadores_d_csanitario"."nhospitalgeri","eiel_indicadores_d_csanitario"."nnuc_sincsanitario","eiel_indicadores_d_csanitario"."npsiquiatricos" FROM "eiel_indicadores_d_csanitario" WHERE "eiel_indicadores_d_csanitario"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VI_Sanidad');		
	-----------------------------

	-- eiel_indicadores_d_casistencial
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_casistencial'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_VI_Asistencial
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_VI_Asistencial'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VI_Asistencial')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_casistencial"."GEOMETRY", ?T) AS "GEOMETRY","eiel_indicadores_d_casistencial"."id","eiel_indicadores_d_casistencial"."toponimo","eiel_indicadores_d_casistencial"."id_municipio","eiel_indicadores_d_casistencial"."codprov","eiel_indicadores_d_casistencial"."codmunic","eiel_indicadores_d_casistencial"."codentidad","eiel_indicadores_d_casistencial"."codpoblamiento","eiel_indicadores_d_casistencial"."ncentros","eiel_indicadores_d_casistencial"."nplazasresidenciasancianos","eiel_indicadores_d_casistencial"."nresidenciasancianos" FROM "eiel_indicadores_d_casistencial" WHERE "eiel_indicadores_d_casistencial"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VI_Asistencial');
	-----------------------------

	-- eiel_indicadores_d_servotros
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_servotros'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_VII_OtrosServicios
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_VII_OtrosServicios'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VII_OtrosServicios')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_servotros"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN (ncementerios_saturacionelevada > 0) THEN ''1'' END AS estilo_sld, "eiel_indicadores_d_servotros"."id","eiel_indicadores_d_servotros"."toponimo","eiel_indicadores_d_servotros"."id_municipio","eiel_indicadores_d_servotros"."codprov","eiel_indicadores_d_servotros"."codmunic","eiel_indicadores_d_servotros"."codentidad","eiel_indicadores_d_servotros"."codpoblamiento","eiel_indicadores_d_servotros"."ncementarios","eiel_indicadores_d_servotros"."ncementerios_saturacionelevada","eiel_indicadores_d_servotros"."nmataderos","eiel_indicadores_d_servotros"."nrecintosferiales","eiel_indicadores_d_servotros"."pcivil_nvehiculos","eiel_indicadores_d_servotros"."pcivil_plantilla","eiel_indicadores_d_servotros"."bomberos_nvehiculos","eiel_indicadores_d_servotros"."bomberos_plantilla","eiel_indicadores_d_servotros"."cconsistorial_sup_cubierta_b","eiel_indicadores_d_servotros"."cconsistorial_sup_cubierta_r","eiel_indicadores_d_servotros"."cconsistorial_sup_cubierta_m" FROM "eiel_indicadores_d_servotros" WHERE "eiel_indicadores_d_servotros"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VII_OtrosServicios');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_VII_OtrosServicios</Name><UserStyle><Name>EIEL_Indicadores_VII_OtrosServicios:_:default</Name><Title>EIEL_Indicadores_VII_OtrosServicios:_:default</Title><Abstract>EIEL_Indicadores_VII_OtrosServicios:_:default</Abstract><FeatureTypeStyle><Rule><Name>Cementerios saturación elevada</Name><Title>default</Title><Abstract>default</Abstract><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>1.7976931348623157E308</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3300</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_VII_OtrosServicios') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_alumbrado
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_alumbrado'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_III_Alumbrado_Potencia
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Alumbrado_Potencia'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Alumbrado_Potencia')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_alumbrado"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((potenciapuntosluz >= 0) AND (potenciapuntosluz < 0.02)) THEN ''1'' WHEN ((potenciapuntosluz >= 0.02) AND (potenciapuntosluz < 0.06)) THEN ''2'' WHEN ((potenciapuntosluz >= 0.06) AND (potenciapuntosluz < 0.4)) THEN ''3'' WHEN ((potenciapuntosluz >= 0.4) AND (potenciapuntosluz <= 5.71)) THEN ''4'' END AS estilo_sld, "eiel_indicadores_d_alumbrado"."id","eiel_indicadores_d_alumbrado"."toponimo","eiel_indicadores_d_alumbrado"."id_municipio","eiel_indicadores_d_alumbrado"."codprov","eiel_indicadores_d_alumbrado"."codmunic","eiel_indicadores_d_alumbrado"."codentidad","eiel_indicadores_d_alumbrado"."codpoblamiento","eiel_indicadores_d_alumbrado"."npuntosluz_ahorro_rlf","eiel_indicadores_d_alumbrado"."npuntosluz_estado_b","eiel_indicadores_d_alumbrado"."npuntosluz_estado_m","eiel_indicadores_d_alumbrado"."npuntosluz_estado_r","eiel_indicadores_d_alumbrado"."potenciapuntosluz" FROM "eiel_indicadores_d_alumbrado" WHERE "eiel_indicadores_d_alumbrado"."id_municipio"  in (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Alumbrado_Potencia');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_III_Alumbrado_Potencia</Name><UserStyle><Name>EIEL_Indicadores_III_Alumbrado_Potencia:_:default:EIEL_Indicadores_III_Alumbrado_Potencia</Name><Title>EIEL_Indicadores_III_Alumbrado_Potencia:_:default:EIEL_Indicadores_III_Alumbrado_Potencia</Title><Abstract>EIEL_Indicadores_III_Alumbrado_Potencia:_:default:EIEL_Indicadores_III_Alumbrado_Potencia</Abstract><FeatureTypeStyle><Name>EIEL_Indicadores_III_Alumbrado_Potencia</Name><Rule><Name>Potencia muy baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcccc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Potencia baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff9999</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Potencia media</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Potencia alta</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3333</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_III_Alumbrado_Potencia') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_poblacion
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_poblacion'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Indicadores_I_Poblacion
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion')),true);

	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo2_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_poblacion'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion')),true);

	UPDATE QUERIES SET selectquery = 'SELECT "eiel_indicadores_d_poblacion"."codentidad","eiel_indicadores_d_poblacion"."codmunic","eiel_indicadores_d_poblacion"."codpoblamiento","eiel_indicadores_d_poblacion"."codprov",transform("eiel_indicadores_d_poblacion"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((poblacionderecho >= 6) AND (poblacionderecho < 44)) THEN ''1'' WHEN ((poblacionderecho >= 44) AND (poblacionderecho < 100)) THEN ''2'' WHEN ((poblacionderecho >= 100) AND (poblacionderecho < 209)) THEN ''3'' WHEN ((poblacionderecho >= 209) AND (poblacionderecho <= 51441)) THEN ''4'' END AS estilo_sld, CASE WHEN ((poblacionestacional >= 1) AND (poblacionestacional < 438)) THEN ''1'' WHEN ((poblacionestacional>= 438) AND (poblacionestacional < 875)) THEN ''2'' WHEN ((poblacionestacional >= 875) AND (poblacionestacional < 1312)) THEN ''3'' WHEN ((poblacionestacional >= 1312) AND (poblacionestacional <= 1749)) THEN ''4'' END AS estilo2_sld, "eiel_indicadores_d_poblacion"."id","eiel_indicadores_d_poblacion"."id_municipio","eiel_indicadores_d_poblacion"."numnucleos","eiel_indicadores_d_poblacion"."poblaciondensidad","eiel_indicadores_d_poblacion"."poblacionderecho","eiel_indicadores_d_poblacion"."poblaciondiseminado","eiel_indicadores_d_poblacion"."poblacionestacional","eiel_indicadores_d_poblacion"."poblaciontotal","eiel_indicadores_d_poblacion"."superficeresidencial","eiel_indicadores_d_poblacion"."superficieagricolaforestalporcent","eiel_indicadores_d_poblacion"."superficiemunicipal","eiel_indicadores_d_poblacion"."superficieurbana","eiel_indicadores_d_poblacion"."toponimo" FROM "eiel_indicadores_d_poblacion" WHERE "eiel_indicadores_d_poblacion"."id_municipio" in (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion');		

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_I_Poblacion</Name><UserStyle><Name>EIEL_Indicadores_I_Poblacion:_:default:EIEL_Indicadores_I_Poblacion</Name><Title>EIEL_Indicadores_I_Poblacion:_:default:EIEL_Indicadores_I_Poblacion</Title><Abstract>EIEL_Indicadores_I_Poblacion:_:default:EIEL_Indicadores_I_Poblacion</Abstract><FeatureTypeStyle><Name>EIEL_Indicadores_I_Poblacion</Name><Rule><Name>Poblacion derecho muy baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcccc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Poblacion derecho baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff9999</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Poblacion derecho media</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Poblacion derecho alta</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3300</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Poblacion estacional muy baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>poblacionderecho</ogc:PropertyName></Label><Font><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter><CssParameter name=''font-color''>#000000</CssParameter><CssParameter name=''font-family''>Arial</CssParameter><CssParameter name=''font-weight''>normal</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>0.5</AnchorPointX><AnchorPointY>0.5</AnchorPointY></AnchorPoint><Displacement><DisplacementX>0.0</DisplacementX><DisplacementY>0.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule><Rule><Name>Poblacion estacional baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>poblacionderecho</ogc:PropertyName></Label><Font><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter><CssParameter name=''font-color''>#006666</CssParameter><CssParameter name=''font-family''>Arial</CssParameter><CssParameter name=''font-weight''>normal</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>0.5</AnchorPointX><AnchorPointY>0.5</AnchorPointY></AnchorPoint><Displacement><DisplacementX>0.0</DisplacementX><DisplacementY>0.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule><Rule><Name>Poblacion estacional media</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>poblacionderecho</ogc:PropertyName></Label><Font><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter><CssParameter name=''font-color''>#009999</CssParameter><CssParameter name=''font-family''>Arial</CssParameter><CssParameter name=''font-weight''>normal</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>0.5</AnchorPointX><AnchorPointY>0.5</AnchorPointY></AnchorPoint><Displacement><DisplacementX>0.0</DisplacementX><DisplacementY>0.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule><Rule><Name>Poblacion estacional alta</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><TextSymbolizer><Label><ogc:PropertyName>poblacionderecho</ogc:PropertyName></Label><Font><CssParameter name=''font-style''>normal</CssParameter><CssParameter name=''font-size''>10.0</CssParameter><CssParameter name=''font-color''>#0099ff</CssParameter><CssParameter name=''font-family''>Arial</CssParameter><CssParameter name=''font-weight''>normal</CssParameter></Font><LabelPlacement><PointPlacement><AnchorPoint><AnchorPointX>0.5</AnchorPointX><AnchorPointY>0.5</AnchorPointY></AnchorPoint><Displacement><DisplacementX>0.0</DisplacementX><DisplacementY>0.0</DisplacementY></Displacement><Rotation>0.0</Rotation></PointPlacement></LabelPlacement></TextSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion') LIMIT 1);


	-- EIEL_Indicadores_I_Poblacion_densidad
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion_densidad'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion_densidad')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_poblacion"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((poblaciondensidad >= 3.11) AND (poblaciondensidad < 45.91)) THEN ''1'' WHEN ((poblaciondensidad >= 45.91) AND (poblaciondensidad < 74.71)) THEN ''2'' WHEN ((poblaciondensidad >= 74.71) AND (poblaciondensidad < 122.15)) THEN ''3'' WHEN ((poblaciondensidad >= 122.15) AND (poblaciondensidad <= 420.44)) THEN ''4'' END AS estilo_sld, "eiel_indicadores_d_poblacion"."id","eiel_indicadores_d_poblacion"."toponimo","eiel_indicadores_d_poblacion"."id_municipio","eiel_indicadores_d_poblacion"."codprov","eiel_indicadores_d_poblacion"."codmunic","eiel_indicadores_d_poblacion"."codentidad","eiel_indicadores_d_poblacion"."codpoblamiento","eiel_indicadores_d_poblacion"."poblaciondensidad" FROM "eiel_indicadores_d_poblacion" WHERE "eiel_indicadores_d_poblacion"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion_densidad');

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Indicadores_I_Poblacion_densidad</Name><UserStyle><Name>EIEL_Indicadores_I_Poblacion_densidad:_:default:EIEL_Indicadores_I_Poblacion_densidad</Name><Title>EIEL_Indicadores_I_Poblacion_densidad:_:default:EIEL_Indicadores_I_Poblacion_densidad</Title><Abstract>EIEL_Indicadores_I_Poblacion_densidad:_:default:EIEL_Indicadores_I_Poblacion_densidad</Abstract><FeatureTypeStyle><Name>EIEL_Indicadores_I_Poblacion_densidad</Name><Rule><Name>Densidad de poblacion muy baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcccc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Densidad de poblacion baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff9999</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Densidad de poblacion media</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Densidad de poblacion alta</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3333</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Indicadores_I_Poblacion_densidad') LIMIT 1);

	-----------------------------

	-- eiel_indicadores_d_rsaneam
	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_rsaneam'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	-- EIEL_Ind_II_RSaneam_Deficit
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_Deficit'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_Deficit')),true);
	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_rsaneam"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((rs_longitud_def >= 0) AND (rs_longitud_def < 250)) THEN ''1'' WHEN ((rs_longitud_def >= 250) AND (rs_longitud_def < 325)) THEN ''2'' WHEN ((rs_longitud_def >= 325) AND (rs_longitud_def < 425)) THEN ''3'' WHEN ((rs_longitud_def >= 425) AND (rs_longitud_def <= 525)) THEN ''4'' END AS estilo_sld,"eiel_indicadores_d_rsaneam"."id","eiel_indicadores_d_rsaneam"."id_municipio","eiel_indicadores_d_rsaneam"."toponimo","eiel_indicadores_d_rsaneam"."codprov","eiel_indicadores_d_rsaneam"."codmunic","eiel_indicadores_d_rsaneam"."codentidad","eiel_indicadores_d_rsaneam"."codpoblamiento","eiel_indicadores_d_rsaneam"."rs_longitud_def","eiel_indicadores_d_rsaneam"."saneam_viviendas_sin_conexion","eiel_indicadores_d_rsaneam"."nhab_saneamautonomo_in","eiel_indicadores_d_rsaneam"."nest_saneam_def" FROM "eiel_indicadores_d_rsaneam" WHERE "eiel_indicadores_d_rsaneam"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_Deficit');	

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Ind_II_RSaneam_Deficit</Name><UserStyle><Name>EIEL_Ind_II_RSaneam_Deficit:_:default:EIEL_Ind_II_RSaneam_Deficit</Name><Title>EIEL_Ind_II_RSaneam_Deficit:_:default:EIEL_Ind_II_RSaneam_Deficit</Title><Abstract>EIEL_Ind_II_RSaneam_Deficit:_:default:EIEL_Ind_II_RSaneam_Deficit</Abstract><FeatureTypeStyle><Name>EIEL_Ind_II_RSaneam_Deficit</Name><Rule><Name>Longitud deficitaria muy baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcccc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Longitud deficitaria baja</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff9999</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Longitud deficitaria media</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Longitud deficitaria alta</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff3333</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_Deficit') LIMIT 1);

	-- EIEL_Ind_II_RSaneam_EstadoRed
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_EstadoRed'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_EstadoRed')),true);

	INSERT INTO COLUMNS(ID,NAME,ID_DOMAIN,ID_TABLE,"Length","Precision","Scale","Type") VALUES (NEXTVAL('seq_columns'),'estilo2_sld',currval('seq_domains'),(select id_table from tables where name = 'eiel_indicadores_d_rsaneam'),2,NULL,NULL,3);
	INSERT INTO columns_domains(id_column, id_domain, level) VALUES (currval('seq_columns'), currval('seq_domains'), 0);

	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo2_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo2_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_EstadoRed'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_EstadoRed')),true);

	UPDATE QUERIES SET selectquery = 'SELECT transform("eiel_indicadores_d_rsaneam"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((rs_longitud_estado_m > rs_longitud_estado_b) AND (rs_longitud_estado_r > rs_longitud_estado_n)) THEN ''1'' WHEN (rs_longitud_estado_b > 0) THEN ''2'' END AS estilo_sld, CASE WHEN (rs_longitud_estado_m > 0) THEN ''1'' ELSE ''2'' END AS estilo2_sld, "eiel_indicadores_d_rsaneam"."id","eiel_indicadores_d_rsaneam"."toponimo","eiel_indicadores_d_rsaneam"."id_municipio","eiel_indicadores_d_rsaneam"."codprov","eiel_indicadores_d_rsaneam"."codmunic","eiel_indicadores_d_rsaneam"."codpoblamiento","eiel_indicadores_d_rsaneam"."codentidad","eiel_indicadores_d_rsaneam"."nhab_calidadred_b","eiel_indicadores_d_rsaneam"."nhab_calidadred_ma","eiel_indicadores_d_rsaneam"."nhab_calidadred_r","eiel_indicadores_d_rsaneam"."nest_calidadred_b","eiel_indicadores_d_rsaneam"."nest_calidadred_m","eiel_indicadores_d_rsaneam"."nest_calidadred_r","eiel_indicadores_d_rsaneam"."nviv_saneam_no","eiel_indicadores_d_rsaneam"."rs_longitud_estado_b","eiel_indicadores_d_rsaneam"."rs_longitud_estado_m","eiel_indicadores_d_rsaneam"."rs_longitud_estado_r","eiel_indicadores_d_rsaneam"."saneam_viviendas_con_conexion","eiel_indicadores_d_rsaneam"."saneam_viviendas_sin_conexion" FROM "eiel_indicadores_d_rsaneam" WHERE "eiel_indicadores_d_rsaneam"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_EstadoRed');		

	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Ind_II_RSaneam_EstadoRed</Name><UserStyle><Name>EIEL_Ind_II_RSaneam_EstadoRed:_:default:EIEL_Ind_II_RSaneam_EstadoRed</Name><Title>EIEL_Ind_II_RSaneam_EstadoRed:_:default:EIEL_Ind_II_RSaneam_EstadoRed</Title><Abstract>EIEL_Ind_II_RSaneam_EstadoRed:_:default:EIEL_Ind_II_RSaneam_EstadoRed</Abstract><FeatureTypeStyle><Name>EIEL_Ind_II_RSaneam_EstadoRed</Name><Rule><Name>Red en estado malo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo2_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffffff</CssParameter><CssParameter name=''fill-opacity''>0.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#ff0000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>2.0</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Red en estado deficiente</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff66ff</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Red en estado bueno</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#99ff99</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_EstadoRed') LIMIT 1);

	-- EIEL_Ind_II_RSaneam_saneamau
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (NEXTVAL('seq_dictionary'),'es_ES','estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'ca_ES','[cat]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'gl_ES','[gl]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'va_ES','[va]estilo_sld');
	INSERT INTO DICTIONARY(ID_VOCABLO,LOCALE,TRADUCCION) VALUES (CURRVAL('seq_dictionary'),'eu_ES','[eu]estilo_sld');
	INSERT INTO ATTRIBUTES(ID,ID_ALIAS,ID_LAYER,ID_COLUMN,POSITION,EDITABLE) VALUES (NEXTVAL('seq_attributes'),CURRVAL('seq_dictionary'),(SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_saneamau'),CURRVAL('seq_columns'),(select max(position)+1 from attributes where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_saneamau')),true);

	UPDATE QUERIES SET selectquery = 'SELECT "eiel_indicadores_d_rsaneam"."codentidad","eiel_indicadores_d_rsaneam"."codmunic","eiel_indicadores_d_rsaneam"."codpoblamiento","eiel_indicadores_d_rsaneam"."codprov",transform("eiel_indicadores_d_rsaneam"."GEOMETRY", ?T) AS "GEOMETRY", CASE WHEN ((nhab_saneamautonomo >= 1) AND (nhab_saneamautonomo < 15)) THEN ''1'' WHEN ((nhab_saneamautonomo >= 15) AND (nhab_saneamautonomo < 22)) THEN ''2'' WHEN ((nhab_saneamautonomo >= 22) AND (nhab_saneamautonomo < 30)) THEN ''3'' WHEN ((nhab_saneamautonomo >= 30) AND (nhab_saneamautonomo <= 90)) THEN ''4'' END AS estilo_sld,"eiel_indicadores_d_rsaneam"."id","eiel_indicadores_d_rsaneam"."id_municipio","eiel_indicadores_d_rsaneam"."nest_saneamautonomo","eiel_indicadores_d_rsaneam"."nest_saneamautonomo_in","eiel_indicadores_d_rsaneam"."nhab_saneamautonomo","eiel_indicadores_d_rsaneam"."nhab_saneamautonomo_in","eiel_indicadores_d_rsaneam"."nviv_saneamautonomo","eiel_indicadores_d_rsaneam"."nviv_saneamautonomo_in" FROM "eiel_indicadores_d_rsaneam" WHERE "eiel_indicadores_d_rsaneam"."id_municipio" IN (?M)' where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_saneamau');
				
	UPDATE styles set xml = '<?xml version="1.0" encoding="ISO-8859-1"?>
	<StyledLayerDescriptor version="1.0.0" xmlns="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<NamedLayer><Name>EIEL_Ind_II_RSaneam_saneamau</Name><UserStyle><Name>EIEL_Ind_II_RSaneam_saneamau:_:default:EIEL_Ind_II_RSaneam_saneamau</Name><Title>EIEL_Ind_II_RSaneam_saneamau:_:default:EIEL_Ind_II_RSaneam_saneamau</Title><Abstract>EIEL_Ind_II_RSaneam_saneamau:_:default:EIEL_Ind_II_RSaneam_saneamau</Abstract><FeatureTypeStyle><Name>EIEL_Ind_II_RSaneam_saneamau</Name><Rule><Name>Saneamiento autonomo muy bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>1</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ffcccc</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Saneamiento autonomo bajo</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>2</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff9999</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Saneamiento autonomo medio</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>3</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff6666</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule><Rule><Name>Saneamiento autonomo alto</Name><ogc:Filter xmlns:ogc=''http://www.opengis.net/ogc''><ogc:PropertyIsEqualTo><ogc:PropertyName>estilo_sld</ogc:PropertyName><ogc:Literal>4</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>
	<MinScaleDenominator>0.0</MinScaleDenominator><MaxScaleDenominator>9.0E99</MaxScaleDenominator><PolygonSymbolizer><Fill><CssParameter name=''fill''>#ff0033</CssParameter><CssParameter name=''fill-opacity''>1.0</CssParameter></Fill><Stroke><CssParameter name=''stroke''>#000000</CssParameter><CssParameter name=''stroke-linecap''>round</CssParameter><CssParameter name=''stroke-linejoin''>round</CssParameter><CssParameter name=''stroke-opacity''>1.0</CssParameter><CssParameter name=''stroke-width''><ogc:Literal>1</ogc:Literal></CssParameter></Stroke></PolygonSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer>
	</StyledLayerDescriptor>' WHERE id_style = (SELECT id_style from layers_styles where id_layer = (SELECT id_layer from layers where name = 'EIEL_Ind_II_RSaneam_saneamau') LIMIT 1);
	END IF;	
	
END;
$Q$
LANGUAGE plpgsql;

select localgisDatamodelInstall() as "PASO1";

	

